  const requestBody = {
        request_data: {
            inputs: {
                AccidentalDmgInput: fields.accdmg,
                Country: localStorage.getItem('country'),
                EarthquakeInput: fields.earthquake,
                FireInput: fields.fire,
                FloodInput: fields.flood,
                PropertyVal: fields.tot_pd_asset_val,
                TerrorismInput: fields.terrorism,
                ZipCode: localStorage.getItem('zip')
            }
        },
        request_meta: {
            version_id: "b5100601-8d55-40f9-b7a2-02ce874c562c",
            call_purpose: "Spark - API Tester",
            source_system: "SPARK",
            correlation_id: null,
            requested_output: null,
            service_category: ""
        }
    };
 
    try {
        const response = await fetch(url, {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${token}` // Pass the token here
            },
            body: JSON.stringify(requestBody)
        });
 
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
 
        const data = await response.json();
 
        setFields({
          ...fields,
          showBeneficiary:data
      })
        fields.accdmgPrem = data.response_data.outputs.AccidentalDamagePremium;
        fields.terrorismPrem = data.response_data.outputs.TerrorismPremium;
        fields.floodPrem = data.response_data.outputs.FloodPremium;
        fields.firePrem = data.response_data.outputs.FirePremium;
        fields.earthquakePrem = data.response_data.outputs.EarthquakePremium;
 
        const premiumSumValue = fields.accdmgPrem + fields.terrorismPrem + fields.floodPrem + fields.firePrem + fields.earthquakePrem;
        fields.totalPremiumVal = premiumSumValue;
        localStorage.setItem('totalPremiumVal',fields.totalPremiumVal);
 
        console.log(premiumSumValue);
        console.log(data.response_data.outputs);
        localStorage.setItem('accdmgPrem',fields.accdmgPrem);
        localStorage.setItem('terrorismPrem',fields.terrorismPrem);
        localStorage.setItem('floodPrem',fields.floodPrem);
        localStorage.setItem('firePrem',fields.firePrem);
        localStorage.setItem('earthquakePrem',fields.earthquakePrem);
        return data;
    } catch (error) {
        console.error("Error fetching premium data:", error);
        throw error;
    }
};
