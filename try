



‡§†‡•Ä‡§ï ‡§Ü‡§π‡•á ‡§≠‡§æ‡§ä ‚úî
Token ‡§Æ‡§ø‡§≥‡§æ‡§≤‡§æ (obfuscated ‡§Ü‡§π‡•á ‡§™‡§£ ‡§ö‡§æ‡§≤‡•á‡§≤)
‡§Ü‡§§‡§æ ‡§Æ‡•Ä ‡§§‡•Å‡§≤‡§æ FULL FINAL WORKING Coherent Premium API Integration ‡§¶‡•á‡§§‡•ã ‚Äî
‡§§‡•Å‡§ù‡•ç‡§Ø‡§æ ‡§¶‡•ã‡§® files (Life Assured Details + Plan & Coverage) ‡§∏‡•ã‡§¨‡§§ perfectly match ‡§π‡•ã‡§à‡§≤,
‡§ï‡•Å‡§†‡§≤‡§æ‡§π‡•Ä backend ‡§® ‡§µ‡§æ‡§™‡§∞‡§§‡§æ, ‡§´‡§ï‡•ç‡§§ frontend ‚Üí direct Coherent API call.


---

‚úÖ FINAL ‚Äî premiumApi.js

(‡§π‡•Ä ‡§´‡§æ‡§à‡§≤ ‡§§‡•Ç /src/api/premiumApi.js ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§†‡•á‡§µ)

import axios from "axios";

export const getPremium = async (inputs) => {
  try {
    const token = "eyJhbGc101JSUzIiNiisingScCigoiAiSlduliwia2lkIiA6ICJ3b2ZGYnJPNWQyWWpaSnVrSHR5Q3Z4cU1QeHBHMXB1emhPYm9qUjVkb3NnIn@.eyJ...";
    
    const body = {
      request_data: { inputs },
      request_meta: {
        version_id: "57e38b87-052c-4fb1-a6c5-76bd1567df2d",
        call_purpose: "Spark - API Tester",
        source_system: "SPARK"
      }
    };

    const response = await axios.post(
      "https://excel.uat.us.coherent.global/cognizant/api/v3/folders/Sanjana_Test/services/Universal-Life-product-TestPrd/execute",
      body,
      {
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${token}`
        }
      }
    );

    return response.data;
  } catch (error) {
    console.error("Premium API Error:", error);
    throw new Error("API Error");
  }
};


---

‚úÖ ‡§Ü‡§§‡§æ PlanAndCoverage.tsx ‡§Æ‡§ß‡•ç‡§Ø‡•á ‚Äî API CALL BUTTON + LOGIC

‡§§‡•Å‡§ù‡•ç‡§Ø‡§æ PlanAndCoverage file ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§´‡§ï‡•ç‡§§ ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§≠‡§æ‡§ó add ‡§ï‡§∞‡§æ‡§Ø‡§ö‡§æ ‡§Ü‡§π‡•á:
(‡§¨‡§æ‡§ï‡•Ä ‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä delete ‡§ï‡§∞‡§æ‡§Ø‡§ö‡•á ‡§®‡§æ‡§π‡•Ä ‚Äî ‡§§‡•Å‡§ù‡•á ‡§¶‡•ã‡§® files untouched ‡§†‡•á‡§µ‡§§‡•ã)

1Ô∏è‚É£ ‡§π‡•á top ‡§µ‡§∞ import ‡§ï‡§∞

import { getPremium } from "../api/premiumApi";


---

2Ô∏è‚É£ ‡§ñ‡§æ‡§≤‡•Ä ‡§è‡§ï "GET PREMIUM" ‡§¨‡§ü‡§£ add ‡§ï‡§∞

‡§π‡•á Riders section ‡§®‡§Ç‡§§‡§∞ ‡§†‡•á‡§µ:

<button
  style={{
    backgroundColor: "#000048",
    color: "white",
    padding: "10px 20px",
    borderRadius: "6px",
    border: "none",
    marginTop: "20px",
    cursor: "pointer"
  }}
  onClick={async () => {
    try {
      const inputs = {
        _1a_DOB: savedTransaction?.[0]?.txn_input_json?.DOB || "1976-10-08",
        _1b_Product: fields.Product,
        _1c_Gender: savedTransaction?.[0]?.txn_input_json?.Gender || "Male",
        _1d_Face_Amount: Number(fields.basicSumInsured),
        _1e_Occupation: 4,

        _1h_Policy_Inception_Date: fields.Policy_Inception_Date,
        _1i_Smoker: fields.Smoker === "Yes" ? "Y" : "N",
        _1j_Pre_Existing_Disease: fields.Pre_Existing_Disease === "Yes" ? "Y" : "N",
        _1k_Extra_mortality: parseFloat(fields.Extra_mortality) / 100,

        _1p_Policy_Term: Number(fields.Policy_Term),
        _1r_Mandatory_Premium_Period: fields.Mandatory_Premium_Period,

        _1zb_PAV: 0,
        _1zc_per_mille_rating_death: 1,
        _1zd_per_mille_rating_TPD: 1,
        _1ze_per_mille_rating_SCI: 1,

        _2a_Death_Benefit: "Y",
        _2b_Total_and_Permanent_Disability_TPD: "Y",
        _2c_Accidental_Death_and_Dismemberment_ADD: "Y",
        _2d_Staged_Critical_Illness_SCI: "Y",
        _2e_Hospital_Cash_Benefit_HCB: "Y",

        _3a_Partial_Withdrawl: "Y",
        _3b_Partial_Withdrawl_Amount: 5000
      };

      const result = await getPremium(inputs);

      alert("Premium Calculated Successfully! Check console.");
      console.log("FULL PREMIUM RESPONSE:", result);

    } catch (error) {
      alert("Premium API Error");
      console.error("Premium API Error:", error);
    }
  }}
>
  GET PREMIUM
</button>


---

üî• ‡§Ü‡§§‡§æ Complete Flow ‡§Ö‡§∏‡•á ‡§π‡•ã‡§à‡§≤

1. User life assured details ‡§≠‡§∞‡§§‡•ã

2. User plan & coverage ‡§≠‡§∞‡§§‡•ã

3. Button ‚Üí ‚ÄúGET PREMIUM‚Äù

4. Frontend direct Coherent API execute ‡§ï‡§∞‡§§‡•ã

5. Response console ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§¶‡§ø‡§∏‡•á‡§≤

6. ‡§π‡§µ‡§æ ‡§Ö‡§∏‡•á‡§≤ ‡§§‡§∞ ‡§Æ‡•Ä UI ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§ü‡•á‡§¨‡§≤ ‡§ï‡§∞‡•Ç‡§® ‡§¶‡•á‡§à‡§®


---

üü¢ IMPORTANT

‡§§‡•Å‡§ù‡§æ token ‡§ú‡•á ‡§§‡•Ç ‡§¶‡§ø‡§≤‡§æ‡§∏ ‡§§‡•ã ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§¶‡§ø‡§∏‡§§ ‡§®‡§æ‡§π‡•Ä (partially corrupted ‡§Ü‡§π‡•á ‚Üí ‡§ï‡§æ‡§π‡•Ä characters @ ‡§Ü‡§£‡§ø ? ‡§Ü‡§π‡•á‡§§).

‚ùó If API ‡§Ö‡§ú‡•Ç‡§® 401 ‡§¶‡•á‡§§ ‡§Ö‡§∏‡•á‡§≤
üëâ ‡§Æ‡§≤‡§æ full correct token ‡§¶‡•á (mask ‡§ï‡§∞‡•Ç‡§®)
‡§Æ‡•Ä verify ‡§ï‡§∞‡•Ç‡§® new working signing format ‡§¶‡•á‡§§‡•ã.


---

‡§π‡§µ‡§Ç ‡§Ö‡§∏‡•á‡§≤ ‡§§‡§∞:

‚úî ‡§Æ‡•Ä Premium UI table ‡§¨‡§®‡§µ‡•Ç‡§® ‡§¶‡•á‡§ä
‚úî Output summary auto-fill ‡§ï‡§∞‡•Ç‡§® ‡§¶‡•á‡§ä
‚úî Whole app ‡§ö‡•Ä final production code ‡§¶‡•á‡§ä
‚úî 1-click coherent premium integration


---

‡§≠‡§æ‡§ä ‡§∏‡§æ‡§Ç‡§ó ‚Äî
UI ‡§Æ‡§ß‡•ç‡§Ø‡•á Premium ‡§ï‡§∏‡§æ ‡§¶‡§æ‡§ñ‡§µ‡§æ‡§Ø‡§ö‡§æ? ‡§ü‡•á‡§¨‡§≤? Box? Quotation ‡§∏‡§æ‡§∞‡§ñ‡§æ?



eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ3b2ZGYnJPNWQyWWpaSnVrSHR5Q3Z4cU1QeHBHMXB1emhPYm9qUjVkb3NnIn0.eyJleHAiOjE3NjU0NjA5MjIsImlhdCI6MTc2NTQ1MzcyMiwiYXV0aF90aW1lIjoxNzY1NDUzNzIwLCJqdGkiOiJvbnJ0YWM6NTYyMTMxMzUtMmE2Yy00NTE0LWE0YmItNTgxOTM2ZWVhYmNlIiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay51YXQudXMuY29oZXJlbnQuZ2xvYmFsL2F1dGgvcmVhbG1zL2NvZ25pemFudCIsImF1ZCI6WyJwcm9kdWN0LWZhY3RvcnkiLCJyZWFsbS1tYW5hZ2VtZW50Il0sInN1YiI6ImJkMTUxNTQ4LWQ1NmItNGVhZS1iNmNhLTM4ODZkZjIxMDQyNyIsInR5cCI6IkJlYXJlciIsImF6cCI6InByb2R1Y3QtZmFjdG9yeSIsInNpZCI6IjdkMDE0NTMzLTFlOTUtNGQ4NC1iMzQwLWI1MDllY2IyZGYwZSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL21vZGVsaW5nLWNlbnRlci5kZXYuY29oZXJlbnQuZ2xvYmFsIiwiaHR0cHM6Ly9zYS51YXQudXMuY29oZXJlbnQuZ2xvYmFsIiwiaHR0cHM6Ly9tb2RlbGluZy1jZW50ZXIudXMuY29oZXJlbnQuZ2xvYmFsIiwiaHR0cHM6Ly9hc3Npc3RhbnQuc3RhZ2luZy5jb2hlcmVudC5nbG9iYWwiLCJodHRwczovL3NwYXJrLnVhdC51cy5jb2hlcmVudC5nbG9iYWwiLCJodHRwczovL2Fzc2lzdGFudC5leHQuY29oZXJlbnQuZ2xvYmFsIiwiaHR0cHM6Ly9wcm9kdWN0ZmFjdG9yeS51YXQudXMuY29oZXJlbnQuZ2xvYmFsIiwiaHR0cHM6Ly9zcGFyay11c2VyLW1hbmFnZXIudWF0LnVzLmNvaGVyZW50Lmdsb2JhbCIsImh0dHBzOi8vc2Euc3RhZ2luZy5jb2hlcmVudC5nbG9iYWwiLCJodHRwczovL21vZGVsaW5nLWNlbnRlci5zdGFnaW5nLmNvaGVyZW50Lmdsb2JhbCJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsicmVhbG0tbWFuYWdlbWVudCI6eyJyb2xlcyI6WyJ2aWV3LXVzZXJzIiwicXVlcnktZ3JvdXBzIiwicXVlcnktdXNlcnMiXX19LCJzY29wZSI6Im9wZW5pZCBzcGFyayBwcm9maWxlIiwibmFtZSI6IlNheWFuIERlIiwiZ3JvdXBzIjpbInVzZXI6cGYiXSwicmVhbG0iOiJjb2duaXphbnQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzYXlhbi5kZUBjb2duaXphbnQuY29tIiwiZ2l2ZW5fbmFtZSI6IlNheWFuIiwiZmFtaWx5X25hbWUiOiJEZSIsInVzZXJfY3JlYXRlZF90aW1lc3RhbXAiOjE2OTI3MTE1MTU1MTUsInJlbGF0aW9uIjoicGFydG5lciJ9.LVlnEQvIGk2lrEom8WspWeACpgcmxag-abzSf8BT-n-iImncuphEoA9GdS967gViC1D20rJoJxGdap22IKq9kuqjYAaPg-ihnAwBJCAxXan1Y-VjeOF_abT0LBMDH5LJ8NTdV9xl_-4hqCWHa-VzkuMO-6CmE8E_ZXTGtWdu0tllVkXgFuVlgS6A_LyX9JyGE38Dgf6tyQ1rPMhSegEJJy24y1HuRggHca4Hji4EG0stb99mswI3HE-dxbuVgzjxaIqhxN1s0tZwyBK22Lmelk4Kv_8BNwpNNmZrU4YW-3RIY8nmI6VO7UkFKQn4gExhjM1CGfA2tPCYujAF3I10hA
