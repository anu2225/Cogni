      {/* 7. Quick Action / Open Modal */}
      <SectionHeader title="Underwriting Action" icon={<Gavel />} />
      <Paper elevation={3} sx={{ p: 4, mb: 5, borderRadius: 2, borderLeft: '6px solid #1976d2' }}>
        <Grid container spacing={3}>
          <Grid item xs={12} md={8}>
            <TextField 
              fullWidth 
              label="Quick Comments / Notes" 
              multiline 
              rows={2} 
              placeholder="Enter internal remarks..."
              value={comments}
              onChange={(e) => setComments(e.target.value)}
            />
          </Grid>
          <Grid item xs={12} display="flex" justifyContent="flex-end" gap={2} mt={1}>
            <Button 
                variant='outlined' 
                size="large" 
                onClick={() => setOpenModal(true)}
                // DISABLE LOGIC: Button is disabled if no rows are selected
                disabled={selectedPolicyIds.length === 0}
            >
              Underwriting Decision
            </Button>
            <Button variant='contained' size="large" onClick={() => {}}>
              Underwritten
            </Button>
          </Grid>
        </Grid>
      </Paper>
      
      {/* INTEGRATED MODAL: Passing the mapped selected policies */}
      <DecisionModal 
        open={openModal} 
        onClose={() => setOpenModal(false)} 
        selectedPolicies={policiesForModal} 
        onSubmit={handleDecisionSubmit}
      />
    
    </Box>
  );
};

export default UnderwritingDetails;



import React, { useState } from 'react';
import { Paper, Typography, Grid, SelectChangeEvent, Button, Stack, IconButton, Box } from '@mui/material';
import { ArrowBack } from '@mui/icons-material';
import { useNavigate, useParams } from 'react-router-dom';
import { Dropdown } from '../Dropdown/Dropdown';
 
const UWRequirements: React.FC = () => {
  const { txnTypeId } = useParams();
  const navigate = useNavigate();
  const [nonMedicalRequirement, setNonMedicalRequirement] = useState<string>('');
  const [medicalRequirement, setMedicalRequirement] = useState<string>('');
 
  const nonMedicalOptions = [
    'Financial Supplement Questionnaire',
    'Third party verification of financial information',
    'financial statements',
    'Non-medical general questionnaire'
  ];
 
  const medicalOptions = [
    'Paramed',
    'Liver function tests',
    'Lipid profile',
    'MD exam',
    'Blood/HOS',
    'EKG',
    'MVR',
    'APS',
    'IR',
    'TM(Treadmill (stress) EKG)'
  ];
 
  const handleNonMedicalChange = (event: SelectChangeEvent<string>) => {
    setNonMedicalRequirement(event.target.value);
  };
 
  const handleMedicalChange = (event: SelectChangeEvent<string>) => {
    setMedicalRequirement(event.target.value);
  };
 
  return (
    <Box sx={{ p: 3, maxWidth: 1400, margin: 'auto', backgroundColor: '#f4f6f8' }}>
      <Stack direction="row" spacing={2} alignItems="center" sx={{ mb: 3 }}>
        <IconButton onClick={() => navigate(`/underwriting/${txnTypeId}`)}>
          <ArrowBack />
        </IconButton>
        <Box>
          <Typography variant="h5" fontWeight="bold">
            UW Requirements
          </Typography>
          <Typography variant="body2">
            Application : {txnTypeId}
          </Typography>
        </Box>
      </Stack>
     
      <Paper sx={{ p: 3, mb: 3 }}>
        <Grid container spacing={3}>
          <Grid item xs={12} md={6}>
            <Typography variant="h6" gutterBottom>
              Non-Medical UW requirement drop down
            </Typography>
            <Dropdown
              label="Non-Medical UW requirement"
              options={nonMedicalOptions}
              value={nonMedicalRequirement}
              onChange={handleNonMedicalChange}
            />
          </Grid>
         
          <Grid item xs={12} md={6}>
            <Typography variant="h6" gutterBottom>
              Medical UW requirement drop down
            </Typography>
            <Dropdown
              label="Medical UW requirement"
              options={medicalOptions}
              value={medicalRequirement}
              onChange={handleMedicalChange}
            />
          </Grid>
        </Grid>
      </Paper>
 
      <Paper sx={{ p: 2 }}>
        <Stack direction="row" spacing={2} justifyContent="flex-end">
          <Button variant="outlined" onClick={() => navigate(`/underwriting/${txnTypeId}`)}>
            Back
          </Button>
          <Button variant="contained">
            Save
          </Button>
        </Stack>
      </Paper>
    </Box>
  );
};
 
export default UWRequirements;


import React, { Suspense } from 'react';
import ReactDOM from 'react-dom/client';
import i18next from 'i18next';
import { initReactI18next } from 'react-i18next';
import HttpApi from 'i18next-http-backend';
import LanguageDetector from 'i18next-browser-languagedetector';
import 'bootstrap/dist/js/bootstrap.js';
import 'bootstrap/dist/css/bootstrap.min.css';
import "./index.css";
import { RouterProvider, createBrowserRouter, Navigate } from 'react-router-dom';

// --- COMPONENT IMPORTS ---
import App from './App.jsx';
import SignIn from './Components/Auth/SignIn.js';
import SignUp from './Components/Auth/SignUp.js';
import BasicTabs from './Components/BasicTabs'; 
import Underwriting from './Components/underwriting/Underwriting';
import Application from './Components/application/Application.js';
import UnderwritingDetails from './Components/underwriting/UnderwritingDetails';
import Proofing from './Components/proofing/Proofing.js';
import UnderwritingDetailsTailwind from './Components/underwriting/UnderwritingDetailsTailwind.js';

// --- PLACEHOLDER COMPONENTS ---
// TODO:  (Replace these with real imports when files are created)
const ProofingTxn = () => <div className="p-4"><h2>Proofing Details</h2></div>;
const Payment = () => <div className="p-4"><h2>Payment Gateway</h2></div>;
const Claims = () => <div className="p-4"><h2>Claims Processing</h2></div>;

// --- I18N CONFIGURATION ---
i18next
  .use(HttpApi)
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    supportedLngs: ['en', 'th'],
    fallbackLng: 'en',
    debug: false,
    detection: {
      order: ['path', 'cookie', 'htmlTag'],
      caches: ['cookie'],
    },
    backend: {
      loadPath: '/assets/locales/{{lng}}/translation.json',
    },
  });

// --- ROUTER CONFIGURATION ---
const router = createBrowserRouter([
  // 1. PUBLIC ROUTES
  {
    path: '/',
    element: <SignIn />
  },
  {
    path: '/signin',
    element: <SignIn />
  },
  {
    path: '/signup',
    element: <SignUp />
  },

  // 2. PROTECTED APP ROUTES (Wrapped in App Layout)
  {
    element: <App />, // This is your Sidebar/Header Layout
    children: [
      // A. Application (Form) - Requires ID
      {
        path: 'application',
        element: <Application/>
      },
      
      {
        path: 'application/:txnTypeId',
        element: <BasicTabs />
      },

      // B. Underwriting - Handles BOTH List and Details
      {
        path: 'underwriting', // No ID -> Component should show List
        element: <Underwriting />
      },
      {
        path: 'underwriting/:txnTypeId', // Has ID -> Component should show Details
        element: <Underwriting />
      },
      {
        path: 'underwriting/:txnTypeId/details', // UnderwritingDetails (Screens 3-5)
        element: <UnderwritingDetails />
      },
      // {
      //   path: 'underwriting/:txnTypeId/v2', // New Design Version
      //   element: <UnderwritingDetailsTailwind />
      // },

      // C. Proofing - Handles BOTH List and Details
      {
        path: 'proofing', 
        element: <Proofing />
      },
      {
        path: 'proofing/:txnTypeId',
        element: <Proofing />
      },

      // D. Other Modules
      {
        path: 'payment',
        element: <Payment />
      },
      {
        path: 'payment/:txnTypeId',
        element: <Payment />
      },
      {
        path: 'claims',
        element: <Claims />
      },
      {
        path: 'claims/:txnTypeId',
        element: <Claims />
      }
    ]
  }
]);

const loadingMarkup = (
  <div className="py-4 text-center">
    <h3>Loading..</h3>
  </div>
);

ReactDOM.createRoot(document.getElementById('root')!).render(
  <Suspense fallback={loadingMarkup}>
    <React.StrictMode>
      <RouterProvider router={router} />
    </React.StrictMode>
  </Suspense>,
);
