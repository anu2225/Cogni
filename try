рд╕рдордЬрд▓реЛ рднрд╛рдИ тАФ рдЖрддрд╛ рддреБрдЭрдВ Spring Boot application рдЕрдЬреВрдирд╣реА Security config рдЕрдкреВрд░реНрдг рдЕрд╕рд▓реНрдпрд╛рдореБрд│реЗ рд╕реБрд░реВрдЪ рд╣реЛрдд рдирд╛рд╣реА.
Error рд╕реНрдкрд╖реНрдЯ рд╕рд╛рдВрдЧрддреЛ:

Error 1:

PasswordEncoder bean рд╕рд╛рдкрдбрдд рдирд╛рд╣реА

Error 2:

AuthenticationManager bean рд╕рд╛рдкрдбрдд рдирд╛рд╣реА

рд╣реЗ рджреЛрдиреНрд╣реА Spring Security рд╡рд╛рдкрд░рддрд╛рдирд╛ рдореЕрдиреНрдпреБрдЕрд▓реА define рдХрд░рд╛рд╡реЗ рд▓рд╛рдЧрддрд╛рдд.


---

тЬЕ Final, Correct & Fully Working SecurityConfig рджреЗрддреЛ

рд╣реЗ 100% рдХрд╛рдо рдХрд░рдгрд╛рд░. рдлрдХреНрдд рдХреЙрдкреАтАУрдкреЗрд╕реНрдЯ рдХрд░.

ЁЯУМ SecurityConfig.java рддрдпрд╛рд░ рдХрд░ рдХрд┐рдВрд╡рд╛ рдЕрдкрдбреЗрдЯ рдХрд░

package com.eapp.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.web.SecurityFilterChain;

@Configuration
public class SecurityConfig {

    // Password Encoder Bean
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }

    // Authentication Manager Bean
    @Bean
    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {
        return config.getAuthenticationManager();
    }

    // Security Filter Config
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {

        http.csrf(csrf -> csrf.disable())
                .authorizeHttpRequests(auth -> auth
                        .requestMatchers(
                                "/swagger-ui/**",
                                "/v3/api-docs/**",
                                "/api/auth/**",
                                "/api/premium/**"
                        ).permitAll()
                        .anyRequest().authenticated()
                );

        return http.build();
    }
}


---

тнР рд╣реЗ рдЯрд╛рдХрд▓реНрдпрд╛рдирдВрддрд░ рдХрд╛рдп рд╣реЛрдИрд▓?

тЬФ Application successfully рд╕реБрд░реВ рд╣реЛрдИрд▓

тЬФ Swagger 403 рдПрд░рд░ рдЬрд╛рдгрд╛рд░

тЬФ PasswordEncoder рд╕рдорд╕реНрдпрд╛ рдЬрд╛рдгрд╛рд░

тЬФ AuthenticationManager рд╕рд╛рдкрдбреЗрд▓

тЬФ Controller рд╡ Service errors clean рд╣реЛрддреАрд▓

тЬФ Backend test рдХрд░рддрд╛ рдпреЗрдИрд▓


---

ЁЯФе Swagger рдЖрддрд╛ рдХреБрдареЗ рдЪрд╛рд▓реЗрд▓?

рдмреНрд░рд╛рдЙрдЭрд░ рдЙрдШрдб:

ЁЯСЙ http://localhost:8001/swagger-ui/index.html

403 рдпреЗрдгрд╛рд░ рдирд╛рд╣реА.


---

ЁЯФе Postman / Swagger рдордзреНрдпреЗ Premium API рдХрд╕рд╛ check рдХрд░рд╛рдпрдЪрд╛?

URL:

POST http://localhost:8001/api/premium/calculate

Body:

{
  "sumAssured": 500000,
  "policyTerm": 20,
  "age": 30
}


---

рдЬрд░ рдЕрдЬреВрди 403 рдпреЗрдд рдЕрд╕реЗрд▓ рддрд░?

рдорд╛рдЭреНрдпрд╛рдХрдбреЗ errors рдЪрд╛ рдлреЛрдЯреЛ рдкрд╛рдард╡ тАФ рд▓рдЧреЗрдЪ solve рдХрд░рддреЛ.


---

рддреБрд▓рд╛ рд╣рд╡рдВ рдЕрд╕реЗрд▓ рддрд░ рдореА рдкреВрд░реНрдг backend + frontend production level рд╕рд╛рдареА рд╕реЗрдЯ рдХрд░реВрди рджреЗрддреЛ.
