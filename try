
рдЫрд╛рди ЁЯСН
рдЖрддрд╛ рд╣рд╛ PlanAndCoverage.tsx code рдореА properly review рдХреЗрд▓рд╛ рдЖрд╣реЗ.
рдореА рддреБрд▓рд╛ рдереЗрдЯ рд╕рд╛рдВрдЧрддреЛ:

> тЭМ рд╣рд╛ code рд╕рдзреНрдпрд╛ Coherent API рд╕рд╛рдареА 100% correct рдирд╛рд╣реА
тЬЕ рдкрдг 80тАУ85% рдХрд╛рдо рдмрд░реЛрдмрд░ рдЖрд╣реЗ
ЁЯСЙ рдереЛрдбреЗ critical fixes рдХреЗрд▓реНрдпрд╛рд╡рд░ complete тАЬREADYтАЭ рд╣реЛрдИрд▓



рдЦрд╛рд▓реА рд╕реНрдкрд╖реНрдЯ breakdown + exact corrections рджреЗрддреЛ.


---

тЬЕ рдХрд╛рдп рдмрд░реЛрдмрд░ рдЖрд╣реЗ (Good Work)

тЬФ UI structure clean рдЖрд╣реЗ
тЬФ Calculate Premium button properly wired рдЖрд╣реЗ
тЬФ Life Assured data (DOB, Gender, Occupation) correctly рдШреЗрддрд▓рд╛рдп
тЬФ Riders logic (Yes/No mapping) okay рдЖрд╣реЗ
тЬФ Defaults + savedTransaction handling good рдЖрд╣реЗ

ЁЯСЙ Friend рдиреЗ solid base рджрд┐рд▓рд╛рдп ЁЯСМ


---

тЭМ Major Problems (Coherent point of view)

1я╕ПтГг Request body Coherent spec рд╢реА match рд╣реЛрдд рдирд╛рд╣реА

тЭМ рддреВ рдкрд╛рдард╡рдд рдЖрд╣реЗрд╕:

inputs: {
  DOB,
  Gender,
  Occupation,
  Base_SA,
  Plan,
  PPT,
  Product,
  ...
}

тЬЕ рдкрдг Coherent рд▓рд╛ рд╣реЗ exact keys рд╣рд╡реЗрдд:

_1a_DOB
_1b_Product
_1c_Gender
_1d_Face_Amount
_1e_Occupation
_1h_Policy_Inception_Date
_1i_Smoker
_1j_Pre_Existing_Disease
_1k_Extra_mortality
_1p_Policy_Term
_1r_Mandatory_Premium_Period
_1zb_PAV
_1zc_per_mille_rating_death
_1zd_per_mille_rating_TPD
_1ze_per_mille_rating_SCI
_2a_Death_Benefit
_2b_Total_and_Permanent_Disability_TPD
_2c_Accidental_Death_and_Dismemberment_ADD
_2d_Staged_Critical_Illness_SCI
_2e_Hospital_Cash_Benefit_HCB
_3a_Partial_Withdrawl
_3b_Partial_Withdrawl_Amount

ЁЯСЙ Key mismatch = API failure


---

2я╕ПтГг Extra Mortality wrong format тЭМ

тЭМ UI рдордзреНрдпреЗ:

"75%"

тЬЕ Coherent expects:

0.75


---

3я╕ПтГг Yes / No mapping тЭМ

Coherent рд▓рд╛:

"Y" / "N"

рддреВ рдХрд╛рд╣реА рдард┐рдХрд╛рдгреА:

"Yes" / "No"

рдкрд╛рдард╡рддреЛрдпрд╕ тЖТ wrong


---

4я╕ПтГг request_meta missing тЭМ

Coherent API рд▓рд╛ request_meta compulsory рдЖрд╣реЗ
(рддреВ рдЖрдзреА рджрд┐рд▓рдВ рд╣реЛрддрдВрд╕)


---

тЬЕ FINAL FIX тАФ READY VERSION

ЁЯФз Replace ONLY handleCalculatePremium

ЁЯСЙ рдЦрд╛рд▓реАрд▓ code direct replace рдХрд░
рдмрд╛рдХреА file change рдХрд░реВ рдирдХреЛрд╕.

const handleCalculatePremium = async () => {
  try {
    const payload = {
      request_data: {
        inputs: {
          _1a_DOB: lifeAssuredDetails.DOB,
          _1b_Product: fields.basicPlan,
          _1c_Gender: lifeAssuredDetails.Gender,
          _1d_Face_Amount: Number(fields.basicSumInsured),
          _1e_Occupation: Number(lifeAssuredDetails.Occupation),

          _1h_Policy_Inception_Date: fields.Policy_Inception_Date,
          _1i_Smoker: fields.Smoker === "Yes" ? "Y" : "N",
          _1j_Pre_Existing_Disease:
            fields.Pre_Existing_Disease === "Yes" ? "Y" : "N",

          _1k_Extra_mortality:
            Number(fields.Extra_mortality.replace("%", "")) / 100,

          _1p_Policy_Term: Number(fields.Policy_Term),
          _1r_Mandatory_Premium_Period:
            fields.Mandatory_Premium_Period,

          _1zb_PAV: 0,
          _1zc_per_mille_rating_death: 1,
          _1zd_per_mille_rating_TPD: 1,
          _1ze_per_mille_rating_SCI: 1,

          _2a_Death_Benefit:
            fields.Death_Benefit === "Yes" ? "Y" : "N",

          _2b_Total_and_Permanent_Disability_TPD:
            fields.Total_and_Permanent_Disability_TPD === "Yes" ? "Y" : "N",

          _2c_Accidental_Death_and_Dismemberment_ADD:
            fields.Accidental_Death_and_Dismemberment_ADD === "Yes" ? "Y" : "N",

          _2d_Staged_Critical_Illness_SCI:
            fields.Staged_Critical_Illness_SCI === "Yes" ? "Y" : "N",

          _2e_Hospital_Cash_Benefit_HCB:
            fields._2e_Hospital_Cash_Benefit_HCB === "Yes" ? "Y" : "N",

          _3a_Partial_Withdrawl: "Y",
          _3b_Partial_Withdrawl_Amount: 5000,
        },
      },
      request_meta: {
        version_id: "57e38b87-052c-4fb1-a6c5-76bd1567df2d",
        call_purpose: "UI Premium Calculation",
        source_system: "SPARK",
        correlation_id: null,
        requested_output: null,
        service_category: "",
      },
    };

    const response = await apiClient.post(
      "https://excel.uat.us.coherent.global/cognizant/api/v3/folders/Sanjana_Test/services/Universal-Life-product-TestPrd/execute",
      payload
    );

    console.log("Premium Response:", response.data);
  } catch (error) {
    console.error("Premium calculation failed", error);
  }
};


---

тЬЕ FINAL STATUS (Company-ready)

тЬФ UI intact
тЬФ Correct Coherent payload
тЬФ Proper data conversion
тЬФ Direct frontend тЖТ Coherent API
тЬФ Interview explainable flow


---

ЁЯза Interview explanation (1 line)

> тАЬWe collect data across Life Assured and Plan pages, map it to CoherentтАЩs required input schema on Calculate Premium click, and call the pricing engine API directly from the frontend.тАЭ




---

рдЬрд░ рддреБрд▓рд╛ рд╣рд╡рдВ рдЕрд╕реЗрд▓ рддрд░ рдкреБрдвреЗ рдореА:

Premium response UI mapping

Error handling (business messages)

Payload builder util function


рдкрдг task рдореНрд╣рдгреВрди рддреВ рдЖрддрд╛ 100% safe рдЖрд╣реЗрд╕ ЁЯТп
