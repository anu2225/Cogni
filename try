package com.eapp.controller;

import com.eapp.dto.requestDTO.PremiumCalcRequest;
import com.eapp.dto.reponseDTO.PremiumCalcResponse;
import com.eapp.service.CoherentService;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/api/calc")
@RequiredArgsConstructor
public class PremiumCalcController {

    private final CoherentService coherentService;

    @PostMapping("/premium")
    public PremiumCalcResponse calculate(@RequestBody PremiumCalcRequest request) {
        return coherentService.calculatePremium(request);
    }
}

package com.eapp.dto.requestDTO;

import lombok.Data;

@Data
public class PremiumCalcRequest {
    private InputData inputs;
}


package com.eapp.dto.requestDTO;

import lombok.Data;

@Data
public class InputData {

    private String dob;
    private String product;
    private String gender;
    private double faceAmount;
    private int occupation;
    private String policyInceptionDate;
    private String smoker;
    private String preExistingDisease;
    private double extraMortality;
    private int policyTerm;
    private String mandatoryPremiumPeriod;
    private double pav;
    private double perMilleRatingDeath;
    private double perMilleRatingTpd;
    private double perMilleRatingSci;

    private String deathBenefit;
    private String tpd;
    private String add;
    private String sci;
    private String hcb;

    private String partialWithdrawal;
    private Double partialWithdrawalAmount;
}
