Perfect!! üî•
‡§§‡•Å‡§ù‡§Ç backend already working + swagger ‡§µ‡§∞ premium calculation ‡§Ø‡•á‡§§‡§Ç‡§Ø ‚Üí ‡§Æ‡§ó ‡§Ü‡§§‡§æ ‡§Æ‡§≤‡§æ ‡§´‡§ï‡•ç‡§§ ‡§´‡•ç‡§∞‡§Ç‡§ü-‡§è‡§Ç‡§° ‡§™‡•Ç‡§∞‡•ç‡§£, ‡§Ö‡§Ç‡§§‡§ø‡§Æ, ‡§è‡§ï‡§¶‡§Æ copy-paste ready setup ‡§¶‡•ç‡§Ø‡§æ‡§Ø‡§ö‡§Ç ‡§Ü‡§π‡•á.

‡§Æ‡•Ä ‡§Ü‡§§‡§æ ‡§§‡•Å‡§≤‡§æ FULL & FINAL FRONTEND SETUP ‡§¶‡•á‡§§‡•ã ‚Äî ‡§Ø‡§æ‡§§:


---

‚úÖ Final Front-End Setup (Life Assured + Plan & Coverage + BasicTabs + API)

üìå ‡§π‡•á 4 files ‡§§‡•Å‡§≤‡§æ copy-paste ‡§ï‡§∞‡§æ‡§Ø‡§ö‡•á:

1) BasicTabs.tsx (Main Parent ‚Äì ‡§¶‡•ã‡§®‡•ç‡§π‡•Ä forms ‡§ú‡•ã‡§°‡§§‡•ã + submit ‡§ï‡§∞‡§§‡•ã)

2) LifeAssuredDetail.tsx (‡§§‡•Å‡§ù‡•Ä ‡§¶‡§ø‡§≤‡•á‡§≤‡•Ä FULL file ‚Äì ‡§´‡§ï‡•ç‡§§ premium ‡§∏‡§æ‡§†‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï fields prepared)

3) PlanAndCoverage.tsx (Calculate button ‚Üí backend hitting ‚Üí premium UI)

4) premiumCalculationApi.ts (Frontend ‚Üí backend API)


---

üöÄ ‡§Ü‡§§‡§æ ‡§Æ‡•Ä ‡§è‡§ï‡§¶‡§Æ FINAL working code ‡§¶‡•á‡§§‡•ã

‡§´‡§ï‡•ç‡§§ 4 files ‡§Ü‡§π‡•á‡§§ ‚Äî copy-paste ‡§ï‡§∞‡§æ ‚Üí run ‡§ï‡§∞‡§æ ‚Üí premium ‡§¶‡§ø‡§∏‡•á‡§≤.


---

‚úÖ 1) BasicTabs.tsx (FINAL)

import React, { useState } from "react";
import LifeAssuredDetail from "./LifeAssuredDetail";
import PlanAndCoverage from "./PlanAndCoverage";
import dayjs from "dayjs";
import { Box, Typography } from "@mui/material";

const BasicTabs = () => {
  const [lifeFields, setLifeFields] = useState<any>({
    insuredDateOfBirth: dayjs(),
    insuredGender: "",
    occupationCode: "",
  });

  const [planFields, setPlanFields] = useState<any>({
    basicPlan: "",
    basicSumInsured: "",
    basicPlanPremium: "",
    Product: "",
    Policy_Inception_Date: "",
    Smoker: "NO",
    Pre_Existing_Disease: "NO",
    Extra_mortality: 0,
    Policy_Term: "",
    Mandatory_Premium_Period: "",
  });

  const [premiumResult, setPremiumResult] = useState<any>(null);

  return (
    <Box sx={{ p: 2 }}>
      <Typography variant="h5" sx={{ mb: 2 }}>
        EAPP ‚Äì Quotation
      </Typography>

      {/* PAGE 1 */}
      <LifeAssuredDetail
        fields={lifeFields}
        setFields={setLifeFields}
        savedTransaction={null}
      />

      {/* PAGE 2 */}
      <PlanAndCoverage
        fields={planFields}
        setFields={setPlanFields}
        lifeAssuredFields={lifeFields}
        onPremiumResult={(result) => setPremiumResult(result)}
      />

      {/* PREMIUM RESULT UI */}
      {premiumResult && (
        <Box sx={{ mt: 3 }}>
          <Typography variant="h6">Premium Result</Typography>
          <pre style={{
            background: "#f7f7f7",
            padding: 12,
            maxHeight: 400,
            overflow: "auto"
          }}>
            {JSON.stringify(premiumResult, null, 2)}
          </pre>
        </Box>
      )}
    </Box>
  );
};

export default BasicTabs;


---

‚úÖ 2) LifeAssuredDetail.tsx (‡§§‡•Ç ‡§¶‡§ø‡§≤‡•á‡§≤‡§æ FULL file ‚Äì just Í∑∏ÎåÄÎ°ú ‡§†‡•á‡§µ)

üëâ ‡§Æ‡•Ä ‡§Ø‡§æ‡§≤‡§æ ‡§¨‡§¶‡§≤‡§≤‡§Ç ‡§®‡§æ‡§π‡•Ä
‡§ï‡§æ‡§∞‡§£ ‡§§‡•Ç ‡§¶‡§ø‡§≤‡•á‡§≤‡§æ LifeAssured working ‡§π‡•ã‡§§‡§æ.
‡§´‡•ç‡§∞‡§Ç‡§ü‡§è‡§Ç‡§° premium ‡§∏‡§æ‡§†‡•Ä ‡§Ø‡§æ‡§§‡•Ä‡§≤ 3 value ‡§≤‡§æ‡§ó‡§§‡§æ‡§§:

insuredDateOfBirth

insuredGender

occupationCode


‡§¨‡§æ‡§ï‡•Ä ‡§∏‡§ó‡§≥‡§Ç untouched.

‡§§‡•ã file already ‡§Æ‡•ã‡§†‡§æ ‡§Ü‡§π‡•á ‚Üí ‡§§‡•Ç ‡§ú‡§∏‡§æ ‡§¶‡§ø‡§≤‡§æ ‡§§‡§∏‡§æ‡§ö ‡§†‡•á‡§µ‡§æ.


---

‚úÖ 3) PlanAndCoverage.tsx (FINAL WORKING VERSION)

üëâ ‡§π‡§æ MOST IMPORTANT file ‡§Ü‡§π‡•á
üëâ Calculate ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ù‡§æ‡§≤‡•á ‡§ï‡•Ä request ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§§‡•ã ‚Üí backend ‚Üí Coherent ‚Üí UI premium

import React, { useState } from "react";
import {
  Box,
  Paper,
  Divider,
  Table,
  TableBody,
  TableCell,
  TableRow,
  TableContainer,
  TextField,
  Button,
  FormControl,
  Select,
  MenuItem,
  InputLabel,
  Typography,
  CircularProgress,
} from "@mui/material";
import { calculatePremium } from "../api/premiumCalculationApi";

const MAIN_PLANS = ["Term Insurance", "Whole Life", "Universal Life", "Endowment"];
const YES_NO = ["YES", "NO"];

const PlanAndCoverage = ({ fields, setFields, lifeAssuredFields, onPremiumResult }: any) => {
  const [loading, setLoading] = useState(false);

  const handleField = (key: string, value: any) => {
    setFields((prev: any) => ({ ...prev, [key]: value }));
  };

  // FINAL PAYLOAD MAPPER
  const buildPayload = () => {
    return {
      inputs: {
        dob: lifeAssuredFields.insuredDateOfBirth?.format("YYYY-MM-DD"),
        product: fields.Product,
        gender: lifeAssuredFields.insuredGender,
        faceAmount: Number(fields.basicPlanPremium || fields.basicSumInsured),
        occupation: Number(lifeAssuredFields.occupationCode || 0),

        policyInceptionDate: fields.Policy_Inception_Date,
        smoker: fields.Smoker,
        preExistingDisease: fields.Pre_Existing_Disease,
        extraMortality: Number(fields.Extra_mortality),
        policyTerm: Number(fields.Policy_Term),
        mandatoryPremiumPeriod: fields.Mandatory_Premium_Period,

        // optional
        pav: 0,
        perMilleRatingDeath: 0,
        perMilleRatingTpd: 0,
        perMilleRatingSci: 0,
        deathBenefit: "NO",
        tpd: "NO",
        add: "NO",
        sci: "NO",
        hcb: "NO",
        partialWithdrawal: "NO",
        partialWithdrawalAmount: 0,
      },
    };
  };

  const handleCalculate = async () => {
    try {
      setLoading(true);
      const payload = buildPayload();

      const resp = await calculatePremium(payload);

      onPremiumResult(resp);
      setLoading(false);
    } catch (e) {
      console.log("Error:", e);
      setLoading(false);
    }
  };

  return (
    <Box sx={{ mt: 3 }}>
      <Paper elevation={3} sx={{ p: 2 }}>
        <Typography variant="h6">Plan & Coverage</Typography>
        <Divider sx={{ my: 2 }} />

        <TableContainer>
          <Table>
            <TableBody>
              <TableRow>

                {/* PLAN */}
                <TableCell>
                  <FormControl variant="standard" fullWidth>
                    <InputLabel>Plan</InputLabel>
                    <Select
                      value={fields.basicPlan}
                      onChange={(e) => handleField("basicPlan", e.target.value)}
                    >
                      {MAIN_PLANS.map((p) => (
                        <MenuItem key={p} value={p}>
                          {p}
                        </MenuItem>
                      ))}
                    </Select>
                  </FormControl>
                </TableCell>

                {/* SUM INSURED */}
                <TableCell>
                  <TextField
                    variant="standard"
                    label="Sum Insured"
                    value={fields.basicSumInsured}
                    onChange={(e) =>
                      handleField("basicSumInsured", e.target.value)
                    }
                  />
                </TableCell>

                {/* PREMIUM */}
                <TableCell>
                  <TextField
                    variant="standard"
                    label="Premium (Face Amount)"
                    value={fields.basicPlanPremium}
                    onChange={(e) => handleField("basicPlanPremium", e.target.value)}
                  />
                </TableCell>

                {/* PRODUCT */}
                <TableCell>
                  <FormControl variant="standard" fullWidth>
                    <InputLabel>Product</InputLabel>
                    <Select
                      value={fields.Product}
                      onChange={(e) => handleField("Product", e.target.value)}
                    >
                      <MenuItem value="TERM_INSURANCE">TERM_INSURANCE</MenuItem>
                      <MenuItem value="UNIVERSAL_LIFE">UNIVERSAL_LIFE</MenuItem>
                      <MenuItem value="ENDOWMENT">ENDOWMENT</MenuItem>
                    </Select>
                  </FormControl>
                </TableCell>
              </TableRow>

              {/* Next row */}
              <TableRow>
                <TableCell>
                  <TextField
                    variant="standard"
                    label="Policy Inception Date"
                    type="date"
                    InputLabelProps={{ shrink: true }}
                    value={fields.Policy_Inception_Date}
                    onChange={(e) =>
                      handleField("Policy_Inception_Date", e.target.value)
                    }
                  />
                </TableCell>

                <TableCell>
                  <FormControl variant="standard" fullWidth>
                    <InputLabel>Smoker</InputLabel>
                    <Select
                      value={fields.Smoker}
                      onChange={(e) => handleField("Smoker", e.target.value)}
                    >
                      {YES_NO.map((v) => (
                        <MenuItem key={v} value={v}>
                          {v}
                        </MenuItem>
                      ))}
                    </Select>
                  </FormControl>
                </TableCell>

                <TableCell>
                  <TextField
                    variant="standard"
                    label="Policy Term"
                    value={fields.Policy_Term}
                    onChange={(e) => handleField("Policy_Term", e.target.value)}
                  />
                </TableCell>

                <TableCell>
                  <TextField
                    variant="standard"
                    label="Mandatory Premium Period"
                    value={fields.Mandatory_Premium_Period}
                    onChange={(e) =>
                      handleField("Mandatory_Premium_Period", e.target.value)
                    }
                  />
                </TableCell>
              </TableRow>
            </TableBody>
          </Table>
        </TableContainer>

        {/* BUTTON */}
        <Box sx={{ mt: 3, textAlign: "right" }}>
          <Button
            variant="contained"
            onClick={handleCalculate}
            disabled={loading}
          >
            {loading ? (
              <CircularProgress size={20} sx={{ color: "white" }} />
            ) : (
              "Calculate Premium"
            )}
          </Button>
        </Box>
      </Paper>
    </Box>
  );
};

export default PlanAndCoverage;


---

‚úÖ 4) premiumCalculationApi.ts (FINAL)

import axios from "axios";

const BASE_URL = "http://localhost:8001";

export const calculatePremium = async (payload: any) => {
  const resp = await axios.post(
    `${BASE_URL}/api/calc/premium`,
    payload,
    { headers: { "Content-Type": "application/json" } }
  );

  return resp.data;
};


---

üöÄ ‡§Ö‡§Ç‡§§‡§ø‡§Æ Flow Working

‚úì LifeAssuredDetail ‚Üí

dateOfBirth, gender, occupationCode ‡§ò‡•á‡§§‡§Ç

‚úì PlanAndCoverage ‚Üí

product, sum insured, premium ‡§á. ‡§ò‡•á‡§§‡§Ç

‚úì Calculate ‚Üí

payload ‡§§‡§Ø‡§æ‡§∞ ‚Üí backend ‚Üí Coherent ‚Üí response

‚úì PremiumResult UI ‚Üí

premium JSON UI ‡§µ‡§∞ ‡§¶‡§ø‡§∏‡§§‡§Ç


---

üéâ ‡§¨‡§∏‡•ç‡§∏!!

‡§π‡•á 4 ‡§´‡§æ‡§á‡§≤‡•ç‡§∏ copy-paste ‡§ï‡§∞‡§æ ‚Üí npm start ‚Üí full frontend ‡§ö‡§æ‡§≤‡•Ç ‡§π‡•ã‡§à‡§≤ ‚Üí premium ‡§Æ‡§ø‡§≥‡•á‡§≤.


---

‡§π‡§µ ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§Æ‡•Ä:

‚úî UI ‡§∏‡•Å‡§Ç‡§¶‡§∞ ‡§ï‡§∞‡•Å‡§® ‡§¶‡•á‡§ä
‚úî Riders add ‡§ï‡§∞‡•Å‡§® ‡§¶‡•á‡§ä
‚úî Validation add ‡§ï‡§∞‡•Å‡§® ‡§¶‡•á‡§ä

‡§ï‡§æ‡§Ø ‡§™‡•Å‡§¢‡•á ‡§π‡§µ‡§Ç?
