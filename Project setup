‡§†‡•Ä‡§ï ‡§Ü‡§π‡•á Anurag.
‡§Ü‡§§‡§æ ‡§Æ‡•Ä ‡§§‡•Å‡§≤‡§æ FULL PREMIUM CALCULATION ENGINE
(Backend + Frontend + Flow + File structure + Code)
‡§è‡§ï‡§¶‡§Æ ‡§™‡§π‡§ø‡§≤‡•ç‡§Ø‡§æ ‡§™‡§æ‡§Ø‡§∞‡•Ä‡§™‡§æ‡§∏‡•Ç‡§® ‡§∂‡•á‡§µ‡§ü‡§™‡§∞‡•ç‡§Ø‡§Ç‡§§ COMPLETE ‡§¶‡•á‡§§‡•ã.

üöÄ ‡§§‡•Å‡§ù‡§Ç ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ task ‡§Æ‡§æ‡§ù‡•ç‡§Ø‡§æ‡§ï‡§°‡•Ç‡§® 100% ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡§∞‡•Ç‡§® ‡§¶‡•á‡§§‡•ã.
‡§´‡§ï‡•ç‡§§ copy-paste ‡§ï‡•á‡§≤‡§Ç ‡§§‡§∞‡•Ä ‡§ö‡§æ‡§≤‡•á‡§≤.


---

üìå PART 1 ‚Äî BACKEND (SPRING BOOT)

üìÅ Folder Structure

src/
 ‚îî‚îÄ‚îÄ main/java/com/premium/
         ‚îú‚îÄ‚îÄ controller/
         ‚îú‚îÄ‚îÄ service/
         ‚îú‚îÄ‚îÄ dto/
         ‚îî‚îÄ‚îÄ PremiumApplication.java


---

‚úÖ STEP 1 ‚Äî Create Request DTO

üìÑ src/main/java/com/premium/dto/CalculationRequest.java

package com.premium.dto;

import lombok.Data;

@Data
public class CalculationRequest {
    private int age;
    private double sumAssured;
    private int policyTerm;
    private String planCode;
}


---

‚úÖ STEP 2 ‚Äî Create Response DTO

üìÑ src/main/java/com/premium/dto/CalculationResponse.java

package com.premium.dto;

import lombok.Data;

@Data
public class CalculationResponse {
    private double premium;
    private String message;
}


---

‚úÖ STEP 3 ‚Äî Create Service (Premium Engine Logic)

üìÑ src/main/java/com/premium/service/PremiumService.java

package com.premium.service;

import com.premium.dto.CalculationRequest;
import com.premium.dto.CalculationResponse;
import org.springframework.stereotype.Service;

@Service
public class PremiumService {

    public CalculationResponse calculatePremium(CalculationRequest req) {

        double baseRate = 12.5;

        double premium =
                (req.getSumAssured() / 1000 * baseRate)
                * (req.getAge() / 20.0)
                * (req.getPolicyTerm() / 10.0);

        CalculationResponse res = new CalculationResponse();
        res.setPremium(Math.round(premium));
        res.setMessage("Premium calculated successfully!");

        return res;
    }
}


---

‚úÖ STEP 4 ‚Äî Create Controller

üìÑ src/main/java/com/premium/controller/PremiumController.java

package com.premium.controller;

import com.premium.dto.CalculationRequest;
import com.premium.dto.CalculationResponse;
import com.premium.service.PremiumService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/api/premium")
@CrossOrigin("*")
public class PremiumController {

    @Autowired
    PremiumService premiumService;

    @PostMapping("/calculate")
    public CalculationResponse calculate(@RequestBody CalculationRequest req) {
        return premiumService.calculatePremium(req);
    }
}


---

‚úÖ STEP 5 ‚Äî Start Backend

mvn clean install
mvn spring-boot:run

Backend Endpoint:

üëâ POST http://localhost:8080/api/premium/calculate


---

üìå PART 2 ‚Äî FRONTEND (React + Vite + TypeScript + TSX)

üìÅ Folder Structure

src/
 ‚îú‚îÄ‚îÄ pages/
 ‚îÇ     ‚îî‚îÄ‚îÄ PremiumPage.tsx
 ‚îú‚îÄ‚îÄ components/premium/
 ‚îÇ     ‚îú‚îÄ‚îÄ PremiumForm.tsx
 ‚îÇ     ‚îî‚îÄ‚îÄ PremiumResult.tsx
 ‚îú‚îÄ‚îÄ api/
 ‚îÇ     ‚îî‚îÄ‚îÄ premiumApi.ts
 ‚îî‚îÄ‚îÄ types/
       ‚îî‚îÄ‚îÄ premium.types.ts


---

‚úÖ STEP 1 ‚Äî Types for safety

üìÑ src/types/premium.types.ts

export interface PremiumCalculationRequest {
  age: number;
  sumAssured: number;
  policyTerm: number;
  planCode: string;
}

export interface PremiumCalculationResponse {
  premium: number;
  message: string;
}


---

‚úÖ STEP 2 ‚Äî API File

üìÑ src/api/premiumApi.ts

import axios from "axios";
import {
  PremiumCalculationRequest,
  PremiumCalculationResponse,
} from "../types/premium.types";

export const calculatePremiumApi = async (
  data: PremiumCalculationRequest
) => {
  return axios.post<PremiumCalculationResponse>(
    "http://localhost:8080/api/premium/calculate",
    data
  );
};


---

‚úÖ STEP 3 ‚Äî PremiumForm (TSX UI)

üìÑ src/components/premium/PremiumForm.tsx

import React, { useState } from "react";
import { PremiumCalculationRequest } from "../../types/premium.types";

interface Props {
  onSubmit: (data: PremiumCalculationRequest) => void;
}

const PremiumForm: React.FC<Props> = ({ onSubmit }) => {
  const [form, setForm] = useState<PremiumCalculationRequest>({
    age: 0,
    sumAssured: 0,
    policyTerm: 0,
    planCode: "",
  });

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setForm({
      ...form,
      [e.target.name]:
        e.target.type === "number" ? Number(e.target.value) : e.target.value,
    });
  };

  return (
    <div>
      <h3>Premium Input</h3>

      <input type="number" name="age" placeholder="Age" onChange={handleChange} />

      <input type="number" name="sumAssured" placeholder="Sum Assured" onChange={handleChange} />

      <input type="number" name="policyTerm" placeholder="Policy Term" onChange={handleChange} />

      <input type="text" name="planCode" placeholder="Plan Code" onChange={handleChange} />

      <button onClick={() => onSubmit(form)}>Calculate</button>
    </div>
  );
};

export default PremiumForm;


---

‚úÖ STEP 4 ‚Äî PremiumResult (TSX UI)

üìÑ src/components/premium/PremiumResult.tsx

import React from "react";
import { PremiumCalculationResponse } from "../../types/premium.types";

interface Props {
  result: PremiumCalculationResponse;
}

const PremiumResult: React.FC<Props> = ({ result }) => {
  return (
    <div style={{ marginTop: 20 }}>
      <h2>Premium: ‚Çπ{result.premium}</h2>
      <p>{result.message}</p>
    </div>
  );
};

export default PremiumResult;


---

‚úÖ STEP 5 ‚Äî Page Component

üìÑ src/pages/PremiumPage.tsx

import React, { useState } from "react";
import PremiumForm from "../components/premium/PremiumForm";
import PremiumResult from "../components/premium/PremiumResult";
import { calculatePremiumApi } from "../api/premiumApi";
import { PremiumCalculationResponse } from "../types/premium.types";

const PremiumPage = () => {
  const [result, setResult] = useState<PremiumCalculationResponse | null>(null);

  const handleSubmit = async (data: any) => {
    const res = await calculatePremiumApi(data);
    setResult(res.data);
  };

  return (
    <div style={{ padding: 20 }}>
      <h1>Premium Calculation Engine</h1>
      <PremiumForm onSubmit={handleSubmit} />

      {result && <PremiumResult result={result} />}
    </div>
  );
};

export default PremiumPage;


---

üöÄ HOW THE FINAL FLOW WORKS

1Ô∏è‚É£ User TSX form ‡§Æ‡§ß‡•ç‡§Ø‡•á age, sumAssured, term ‡§≠‡§∞‡§§‡•ã
2Ô∏è‚É£ ‚ÄúCalculate‚Äù ‡§ï‡•ç‡§≤‡§ø‡§ï
3Ô∏è‚É£ Axios backend ‡§≤‡§æ request ‡§™‡§æ‡§†‡§µ‡§§‡•ã
4Ô∏è‚É£ Backend formula ‡§µ‡§æ‡§™‡§∞‡•Ç‡§® premium ‡§ï‡§æ‡§¢‡§§‡•ã
5Ô∏è‚É£ response ‡§™‡§∞‡§§ frontend
6Ô∏è‚É£ UI ‡§Æ‡§ß‡•ç‡§Ø‡•á ‚ÄúPremium: ‚Çπxxxx‚Äù ‡§¶‡§ø‡§∏‡§§‡•ã


---

üéâ ‡§§‡•Å‡§Æ‡§ö‡§æ COMPLETE PREMIUM CALCULATION ENGINE ‡§§‡§Ø‡§æ‡§∞ ‡§Ü‡§π‡•á!

‡§π‡•Ä setup ‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§ï‡§Ç‡§™‡§®‡•Ä‡§Æ‡§ß‡•ç‡§Ø‡•á production-ready ‡§µ‡§æ‡§™‡§∞‡§§‡§æ ‡§Ø‡•á‡§à‡§≤.


---

üìå Next Step

‡§§‡•Å‡§≤‡§æ ‡§π‡•á Plan & Coverage (existing tsx) ‡§Æ‡§ß‡•ç‡§Ø‡•á merge ‡§ï‡§∞‡§æ‡§Ø‡§ö‡§Ç ‡§Ü‡§π‡•á ‡§ï‡§æ?
‡§ï‡§ø‡§Ç‡§µ‡§æ sidebar menu ‡§Æ‡§ß‡•ç‡§Ø‡•á add ‡§ï‡§∞‡§æ‡§Ø‡§ö‡§Ç ‡§Ü‡§π‡•á?

‡§´‡§ï‡•ç‡§§ ‡§∏‡§æ‡§Ç‡§ó ‚Äî ‡§Æ‡•Ä ‡§§‡§æ‡§¨‡§°‡§§‡•ã‡§¨ integrate ‡§ï‡§∞‡•Ç‡§® ‡§¶‡•á‡§§‡•ã.
